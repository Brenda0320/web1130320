<html>
<head>
    <style>

    </style>
    <script>
        var pos={x:0,y:0};
        var dir={"ArrowUp":0,"ArrowDown":0,"ArrowLeft":0,"ArrowRight":0};
        function get(id) {
            return document.getElementById(id);
        }
        function mykeydown() {
            event.preventDefault();
            var bgPY={"ArrowUp":"-216","ArrowDown":"0px","ArrowLeft":"-72px","ArrowRight":"-144px"}
            get("role").style.backgroundPositionY=bgPY[event.key];
            dir[event.key]=1;
            get("role").style.animationPlayState="running";
        }
        function mykeyup() {
            event.preventDefault();
            dir[event.key]=0;
            get("role").style.animationPlayState="paused";
        }
        function walk() {
            if(dir["ArrowUp"]==1) {
                pos.y--;
            } else if(dir["ArrowLeft"]==1) {
                pos.y++;
            } else if(dir["ArrowLeft"]==1) {
                pos.x--;
            } else if (dir["ArrowRight"]==1) {
                pos.x++;
            }
            get("role").style.left=pos.x+"px";
            get("role").style.top=pos.y+"px";
        }
        function bgmove() {
            if(dir["ArrowUp"]==1) {
                bgpos.y;
            } else if(dir["ArrowLeft"]==1) {
                bgpos.y--;
            } else if(dir["ArrowLeft"]==1) {
                bgpos.x++;
            } else if (dir["ArrowRight"]==1) {
                bgpos.x--;
            }
            get("worldmap").style.backgroundPositionX=bgpos.x+"px";
            get("worldmap").style.backgroundPositionX=bgpos.y+"px";
        }
        function gameInit() {
            pos={x:376,y:364};
            dir={"ArrowUp":0,"ArrowDown":0,"ArrowLeft":0,"ArrowRight":0};
            get("role").style.left=pos.x+"px";
            get("role").style.top=pos.y+"px";
            setInterval(bgmove,50);
        }
    </script>
</head>
<body onkeydown="mykeydown();" onkeyup="mykeyup();">
    <div id="worldmap">
        <div id="role"></div>
    </div>
</body>
</html>